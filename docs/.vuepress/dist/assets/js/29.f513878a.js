(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{724:function(e,t,r){"use strict";r.r(t);var n=r(98),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"nginx代理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nginx代理"}},[e._v("#")]),e._v(" Nginx代理")]),e._v(" "),r("div",{staticClass:"language-ini extra-class"},[r("pre",{pre:!0,attrs:{class:"language-ini"}},[r("code",[e._v("location /admin/ #代理名称\n    {\n        proxy_pass ip或域名;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header REMOTE-HOST $remote_addr;\n        \n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("        #缓存相关配置")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("        #proxy_cache cache_one;")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("        #proxy_cache_key $host$request_uri$is_args$args;")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("        #proxy_cache_valid 200 304 301 302 1h;")]),e._v("\n        \n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("        #持久化连接相关配置")]),e._v("\n        proxy_connect_timeout 3000s;\n        proxy_read_timeout 86400s;\n        proxy_send_timeout 3000s;\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("        # proxy_http_version 1.1;")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("        # proxy_set_header Upgrade $http_upgrade;")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v('        # proxy_set_header Connection "upgrade";')]),e._v("\n        \n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("        #        ")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("        #expires 12h;")]),e._v("\n    }\n     location /socket {  \n         proxy_pass ip或域名;   \n         proxy_connect_timeout 3600s; #配置点1 \n         proxy_read_timeout 3600s; #配置点2,如果没效,可以考虑这个时间配置长一点 \n         proxy_send_timeout 3600s; #配置点3 \n         proxy_set_header Host $host;\n         proxy_set_header X-Real-IP $remote_addr;\n         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n         proxy_set_header REMOTE-HOST $remote_addr;\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("         #proxy_bind $remote_addr transparent;")]),e._v('\n         proxy_http_version 1.1;\n         proxy_set_header Upgrade $http_upgrade;\n         proxy_set_header Connection "upgrade";\n         rewrite /socket/(.*) /$1 break;\n         proxy_redirect off;\n     \n     }\n')])])])])}),[],!1,null,null,null);t.default=s.exports}}]);